<!DOCTYPE html>
<html lang="ko">
<head th:replace="fragments :: defaultHead"></head>
<style>

img {
    width: 24%;
    height: 200px;
    overflow: hidden;
    margin: 5px auto;
    max-width: 100%;
    object-fit: cover;
}

    

</style>
<body style="min-height: calc(100vh - 72px);">
    <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
        <div class="container">
            <div>
                <a class="navbar-brand" href="/">삼공일</a>
            </div>
            <button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                Menu
                <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" data-bs-toggle="modal" data-bs-target="#plus">사진추가</a></li>
                    <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" data-bs-toggle="modal" data-bs-target="#drop">앨범삭제</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <section style="min-height: calc(100vh - 72px); margin-top: 100px;" class="page-section portfolio" id="portfolio" >
        <div class="container">
            <!-- Portfolio Section Heading-->
            <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0" th:text="${albumName}">앨범이름</h2>
            <!-- Icon Divider-->
            <div class="divider-custom">
                <div class="divider-custom-line"></div>
                <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                <div class="divider-custom-line"></div>
            </div>
            <div class="wrapper justify-content-center text-center">
                <a th:each="photo : ${photoList}" th:href="@{'/image/'+${albumId}+'/'+${photo.id}}"><img th:src="'/img'+ ${photo.url}"></a>
            </div>
        </div>
	</section>
    <footer th:replace="fragments :: footer"></footer>
    <div class="portfolio-modal modal fade" id="plus" tabindex="-1" aria-labelledby="plus" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button></div>
                <div class="modal-body text-center pb-5">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <!-- Portfolio Modal - Title-->
                                <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">사진을 추가하시겠습니까?</h2>
                                <form th:action="@{'/upload/'+${albumId}}" th:method="POST" enctype="multipart/form-data">
	                                <input type="file" name="uploadfile" multiple="multiple">
	                                <button class="btn btn-primary" type="submit" data-bs-dismiss="modal" style="margin-top: 100px;">
	                                    확인
	                                </button>
								</form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="portfolio-modal modal fade" id="drop" tabindex="-1" aria-labelledby="drop" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button></div>
                <div class="modal-body text-center pb-5">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <!-- Portfolio Modal - Title-->
                                <h4 class="portfolio-modal-title text-secondary text-uppercase mb-0">앨범을 삭제하시겠습니까?</h4>
                                <!-- Icon Divider-->
                                <form th:method="POST" th:action="@{'/deleteAlbum/'+${albumId}}">
	                                <button class="btn btn-primary" data-bs-dismiss="modal" style="margin-top: 100px;">
	                                    확인
	                                </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> 
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/scripts.js"></script>
<script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
</html>