<!DOCTYPE html>
<html lang="ko" xmlns:th="http:/www.thymeleaf.org">
    <head th:replace="fragments :: loginHead"></head>
    <body>
        <form class="wrap" th:action="@{/sign-up}" th:object="${signUpForm}" method="POST" onsubmit="return test();">         	
            <div class="login">
                <a th:href="@{/}"><img class="sigup_logo" th:src="@{/img/logo.jpg}"></a>
                <h2>회원가입</h2>
                <div class="login_id">
                    <h4>아이디</h4>
                    <label>
                        <input type="text" th:field="*{id}" placeholder="아이디">
                    </label>
                        <p id="id_err" class="warning">아이디를 입력해주세요</p><!-- warning 클래스는 빨간 글씨 스타일임 -->
                        <p id="id_err2" class="warning">아이디는 12글자 이하입니다.</p><!-- warning 클래스는 빨간 글씨 스타일임 -->
                        <p id="id_err" class="warning" th:if="${#fields.hasErrors('id')}" th:errors="*{id}"></p>
                </div>
                <div class="login_pw">
                    <h4>패스워드</h4>
                    <input type="password" th:field="*{password}" placeholder="패스워드" minlength="8" maxlength="16">
                    <p id="pw_err" class="warning" >패스워드를 입력해주세요</p><!-- warning 클래스는 빨간 글씨 스타일임 -->
                    <p id="pw_err2" class="warning" >패스워드는 8~16글자 입력하셔야 합니다.</p><!-- warning 클래스는 빨간 글씨 스타일임 -->

                    <p th:if="${#fields.hasErrors('password')}" class="warning2" th:errors="*{password}"></p>
                    
                </div>
                <div class="login_pw_ok">
                    <h4>패스워드 확인</h4>
                    <input type="password" name="repw" id="repw" placeholder="패스워드">
                    <p id="repw_err" class="warning">패스워드가 일치하지 않습니다. </p><!-- warning 클래스는 빨간 글씨 스타일임 -->
                </div>
                <div class="nickname">
                    <h4>닉네임</h4>
                    <input type="text" th:field="*{nickname}" placeholder="닉네임">
                    <p id="name_err" class="warning">닉네임을 입력해주세요</p><!-- warning 클래스는 빨간 글씨 스타일임 -->
                    <p id="uname_err2" class="warning">닉네임은 2~8글자 입력하셔야 합니다.</p><!-- warning 클래스는 빨간 글씨 스타일임 -->
                    <p th:if="${#fields.hasErrors('nickname')}" class="warning2" th:errors="*{nickname}"></p>
                </div>
                <div class="submit">
                    <input type="submit" value="회원가입" style="cursor:pointer;" >
                </div>
            </div>
        </form>
    </body>
  	<script>

  	window.onload = function() {
  	  const id = document.getElementById("id");
  	  const pw = document.getElementById("pw");
  	  const repw = document.getElementById("repw");
  	  const uname = document.getElementById("uname");
  	  const id_err = document.getElementById("id_err");
  	  const pw_err = document.getElementById("pw_err");
  	  const repw_err = document.getElementById("repw_err");
  	  const name_err = document.getElementById("name_err");
  	  const pw_err2 = document.getElementById("pw_err2");
  	  const id_err2 = document.getElementById("id_err2");
  	  const uname_err2 = document.getElementById("uname_err2");
  	  id.focus();
  	}

  	 

  	function test() {
  	   if (id.value === "") { //해당 입력값이 없을 경우 같은말: if(!id.value)
  	    id_err.style.display="block";
  	    id.focus();
  	    return false;
  	  }else{
  	    id_err.style.display="none";
  	  }
  	  if(id.value.length > 12){
  	    id_err2.style.display="block";
  	    id.focus();
  	    return false;
  	  }else{
  	    id_err2.style.display="none";
  	  }

  	  if (pw.value === "") { //해당 입력값이 없을 경우 같은말: if(!id.value)
  	    pw_err.style.display="block";
  	    pw.focus(); //focus(): 커서가 깜빡이는 현상, blur(): 커서가 사라지는 현상
  	    return false; //return: 반환하다 return false:  아무것도 반환하지 말아라 아래 코드부터 아무것도 진행하지 말것
  	  }else{
  	    pw_err.style.display="none";
  	  }
  	  if(pw.value.length <8 || pw.value.length > 12){
  	    pw_err2.style.display="block";
  	    pw.focus(); //focus(): 커서가 깜빡이는 현상, blur(): 커서가 사라지는 현상
  	    return false; //return: 반환하다 return false:  아무것도 반환하지 말아라 아래 코드부터 아무것도 진행하지 말것
  	  }else{
  	    pw_err2.style.display="none";
  	  }
  	  //비밀번호 영문자+숫자+특수조합(8~25자리 입력) 정규식
  	  

  	  if (pw.value !== repw.value) { //해당 입력값이 없을 경우 같은말: if(!id.value)
  	    repw_err.style.display="block";
  	    repw.focus(); //focus(): 커서가 깜빡이는 현상, blur(): 커서가 사라지는 현상
  	    return false; //return: 반환하다 return false:  아무것도 반환하지 말아라 아래 코드부터 아무것도 진행하지 말것
  	  }else{
  	    repw_err.style.display="none";
  	  }

  	  if (uname.value === "") { //해당 입력값이 없을 경우 같은말: if(!id.value)
  	    name_err.style.display="block";
  	    uname.focus(); //focus(): 커서가 깜빡이는 현상, blur(): 커서가 사라지는 현상
  	    return false; //return: 반환하다 return false:  아무것도 반환하지 말아라 아래 코드부터 아무것도 진행하지 말것
  	  }else{
  	    name_err.style.display="none";
  	  }
  	  if(uname.value.length <2 || uname.value.length > 8){
  	    uname_err2.style.display="block";
  	    uname.focus(); //focus(): 커서가 깜빡이는 현상, blur(): 커서가 사라지는 현상
  	    return false; //return: 반환하다 return false:  아무것도 반환하지 말아라 아래 코드부터 아무것도 진행하지 말것
  	  }else{
  	    name_err2.style.display="none";
  	  }
  	   
  	  //입력 값 전송
  	  return true;
  	}
  	</script>
</html>